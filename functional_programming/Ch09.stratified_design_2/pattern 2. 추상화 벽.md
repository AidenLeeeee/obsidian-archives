
## Solution
### 1. 추상화 벽으로 구현을 감추기

> **추상화 벽**은 세부 구현을 감춘 함수로 이루어진 계층이다.
> 추상화 벽에 있는 함수를 사용할 때에는 구현을 전혀 몰라도 쓸 수 있다.

함수형 프로그래머는 문제를 높은 수준으로 생각하기 위해 추상화 벽을 효과적인 도구로 사용한다.
예를 들어, 마케팅팀은 지저분한 반복문이나 배열을 직접 다루지 않고 마케팅 코드를 만들기 위해 추상화 벽에 있는 함수를 사용할 수 있다.

### 2. 세부적인 것을 감추는 것은 대칭적

> **추상화 벽**을 사용하였을 때, 서로의 영역에 대한 세부 구현을 신경쓰지 않아도 된다는 것은 대칭적인 의미이다.

예를 들어 마케팅팀은 세부 구현에 신경쓰지 않고 추상화벽에 있는 함수를 사용할 수 있고,
개발팀은 추상화 벽에 있는 함수를 사용하는 마케팅 관련 코드를 신경쓰지 않아도 된다.

### 3. 추상화 벽이 있으면 구체적인 것을 신경쓰지 않아도 된다

> **추상화 벽**은 '어떤 것을 신경쓰지 않아도 된다.' 는 의미이다.
> 만약 계층 구조에서 어떤 계층에 있는 함수들이 공통된 개념을 신경쓰지 않아도 된다면, 그 계층을 추상화 벽이라고 할 수 있다.

예를 들어, 아래와 같은 호출 그래프가 있을 때,
```javascript
gets_free_shipping()    cartTax()
         |                 |
     calc_total()      calc_tax()
 ------------------------------------
	 |         |              |
splice()  indexOfItem()   arraySet()
```
가로 지르는 점선은 추상화 벽이며, 그 위에 위치한 함수들이 추상화 벽에 있는 함수들이다.
`splice()` `indexOfItem()` `arraySet()` 과 같이 언어의 자료구조와 기능을 사용하고 있다는 사실은 최상위 계층인 `gets_free_shipping()` `cartTax()` 는 전혀 알지 못하고 있기 때문이다.

따라서 위 예제에서 추상화 벽이 의미하는 것은 추상화 벽 위에 있는 함수가 데이터 구조를 몰라도 된다는 것을 의미한다.
추상화 벽에 있는 함수만 사용하면 되고, 그 아래 계층에 위치한 데이터 구조에 대해서는 전혀 신경쓰지 않을 수 있다.

추상화 벽 위에 있는 함수를 사용하는 마케팅팀에게 장바구니 구조가 배열에서 객체로 바뀌었다는 사실을 알릴 필요가 없게 된 것이다.

이 때 중요한 점은 **점선을 가로지르는 세로선이 존재하지 않는다는 점**이다.
예를 들어 `gets_free_shipping()` 함수가 `splice()` 혹은 `indexOfItem()` 함수를 직접 호출하여 사용하고 있다면, 추상화 벽 규칙을 어기는 것이다.
신경 쓰지 않아야 할 세부적인 구현을 상위 계층의 함수가 사용하고 있는 것이다.

위와 같은 문제를 해결하기 위해서는 `gets_free_shipping()` 함수와 `splice()` 혹은 `indexOfItem()` 함수 사이에 새로운 함수를 만들어 추가하여야 한다.

### 4. 추상화 벽을 사용하여야 할 때

> 추상화 벽으로 좋은 설계를 만들 수 있지만, 모든 곳에 추상화 벽을 사용해서는 안된다.

**1. 쉽게 구현을 바꾸기 위해**
구현에 대한 확신이 없는 경우 추상화 벽을 사용하면 **구현을 간접적으로 사용**할 수 있기 때문에 나중에 **구현을 바꾸기 쉽다**.
다시 말해, 최선의 구현을 확신할 수 없는 작업에 유용하다.

**2. 코드를 읽고 쓰기 쉽게 만들기 위해**
추상화 벽을 사용하면 세부적인 것을 신경쓰지 않아도 된다.
때로는 구체적인 구현이 버그를 만들어 내기 때문에 이를 적절하게 감추어 생산적인 코드를 작성할 수 있다.

**3. 팀 간 조율해야 할 것을 줄이기 위해**
추상화 벽을 사용하면 각 팀에 관한 구체적인 내용을 서로 신경 쓰지 않아도 일할 수 있다.
세부적인 변경 사항까지 서로 간에 공유할 필요가 없어 생산적이다.

**4. 주어진 문제에 집중하기 위해**
추상화 벽을 사용하면 해결하려는 문제의 구체적인 부분을 무시할 수 있다.
따라서 코드에 실수가 줄고, 만들면서 지치지 않을 수 있다.


## Summary

- 추상화 벽은 추상화 벽 아래에 있는 코드와 위에 있는 코드의 의존성을 없앨 수 있다.
- 추상화 벽과 그 아래에 있는 코드는 높은 수준의 계층에서 함수가 어떻게 사용되는지 몰라도 된다.
- 또한 추상화 벽에 있는 함수는 그것이 어떻게 사용되든지 신경쓰지 않아도 된다.
- 바뀌지 않을지도 모르는 코드를 언젠가 쉽게 바꿀 수 있게 만들려는 함정에 빠지지 않아야 한다.
- 추상화 벽을 사용하면 코드를 쉽게 고칠 수 있지만, 코드를 쉽게 고치려고 추상화 벽을 사용하는 것은 아니다.
- 추상화 벽은 팀 간 커뮤니케이션 비용을 줄이고, 복잡한 코드를 명확하게 하기 위해 전략적으로 사용해야 한다.