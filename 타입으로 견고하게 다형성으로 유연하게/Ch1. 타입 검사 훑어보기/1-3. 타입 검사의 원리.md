정적 타입 언어를 잘 사용하기 위해서는 타입 검사기의 오류 메시지를 이해할 수 있어야 한다.

타입 검사기가 '거부'라고 출력하는 경우에는 그렇게 판단한 이유를 항상 함께 출력한다.
따라서 우선은 출력된 내용을 이해할 수 있어야 '거부'라는 판단이 옳은지 그른지 알 수 있는 것이다.

그 판단이 올바르다면 프로그램의 잘못된 부분을 수정하는 데 오류 메시지의 내용이 큰 도움이 되고,
판단이 틀린 경우에도 타입 검사기가 '통과'라는 올바른 답을 찾도록 프로그램을 수정하려면 오류 메시지를 참고해야 한다.

타입 검사기의 오류 메시지를 이해하려면 먼저 타입 검사기가 어떻게 작동하는지 알아야 한다.

### 타입 검사의 기본 원리

1. **기본 부품을 검사**한다.
   - 기본 부품 검사는 그 **부품의 타입을 알아내는 것**이다.
     그 부품을 실행했을 때 결과로 나오는 값의 타입이 바로 그 부품의 타입이다.

2. **복합 부품을 검사**한다.
	- 복합 부품을 구성하는 **작은 부품들의 타입이 올바른지 확인**한다.
	  이 때 앞 단계에서 얻은 부품의 타입을 활용한다.
	- **복합 부품의 타입을 검사**한다.
	  1에서 기본 부품의 타입을 알아낸 것처럼 복합 부품의 타입을 알아낸다.

3. **2 를 반복**한다.

4. 기본 부품부터 복합 부품까지 모든 부품 검사에 통과하면 **프로그램이 검사를 통과**한다.

#### 리터럴

모든 리터럴은 기본 부품이므로 타입만 찾으면 된다.
정수 리터럴의 타입은 정수 타입, 불 리터럴의 타입은 불 타입이며, 문자열 리터럴의 타입은 문자열 타입이다.

#### 덧셈

a + b 는 a 와 b 의 두 부품으로 구성된다.
따라서 '작은 부품에서 큰 부품으로' 규칙에 따라 a 와 b 를 검사한 다음에 a + b 를 검사한다.
a + b 를 검사할 때는 a 와 b 를 검사하면서 이미 각각의 타입을 알아낸 것이다.

1. a 와 b 의 타입이 올바른지 확인한다.
   - 덧셈을 하려면 주어진 값이 정수여야 하므로, a 와 b 의 타입이 정수인지 확인한다.

2. 두 정수의 합은 정수이다.
   - 따라서 a + b 라는 부품의 타입 역시 정수가 된다.

3. a 와 b 중 하나라도 정수가 아니면 a + b 는 타입 오류를 일으킬 수 있다.
   - 따라서 타입 검사의 최종 결과는 '거부'가 된다.
   - 다만 어떤 언어에서는 정수와 문자열의 덧셈이 허용될 수 있다.

4. 덧셈 말고도 뺄셈, 곱셈, 나눗셈 등의 다른 연산을 하는 부품도 있다.
   - 각각을 검사하는 방법은 덧셈과 다를 게 없다.

#### 삼항 연산자

a ? b : c 형태의 부품을 삼항 연산자라고 부른다.
이 부품은 a, b, c 세 개의 부품으로 구성된다.
a 를 계산한 결과가 true 이면 b 를 계산하고, false 이면 c 를 계산한다.
b 또는 c 를 계산해서 얻은 값이 a ? b : c 의 결과가 된다.

1. a, b, c 의 타입이 올바른지 확인한다.
   - a 의 타입은 Boolean 이어야 한다.
   - 처음에는 b 와 c 의 타입에 아무런 요구 조건이 없다.

2. a ? b : c 의 타입을 확인한다.
   - a 를 계산해서 true 가 나올지 false 가 나올지 미리 알 수 없으니 b 와 c 중 무엇이 계산될지 알 수 없다.
   - 따라서 둘 중 무엇을 계산하든 그 결과가 포함되도록 a ? b : c 의 타입을 정해야 한다.
   - 결국 타입 검사기는 첫 단계에서 b 와 c 의 타입이 같아야 한다고 요구한다.
	   - 타입 검사기는 a 를 계산한 결과를 절대 고려하지 않는다.
	   - a 에는 어떤 부품이든 올 수 있기 때문이다.
	   - 오로지 a 의 타입이 Boolean 인지만 신경쓴다.

3. 타입 검사기는 언제나 각 부품의 타입만 신경 쓴다.
   - 계산 결과를 절대 알아내려 하지 않는다.

#### 변수

변수는 리터럴, 덧셈, 삼항 연산자와는 달리 개발자가 직접 정의하여 사용한다.
변수가 사용되는 방식은 크게 두 가지다.

1. 변수 값 읽기
변수의 값을 읽는 부품은 더 이상 쪼갤 수 없는 기본 부품이므로 부품의 타입만 알아내면 된다.
하지만 변수의 이름에는 그 타입을 알아낼 수 있는 아무런 정보도 없다.
따라서 정적 타입 언어는 개발자에게 각 변수의 타입을 코드에 명시할 것을 요구한다.

2. 변수 값 쓰기
변수에 새로운 값을 쓰는 부품 x = a 는 복합 부품이다.
따라서 검사할 때 첫 단계에서 x 와 a 의 타입이 올바른지 확인해야 한다.
만약 x 와 a 의 타입이 다르다면, 변수 정의할 때 명시한 타입을 따르지 않는 값이 변수에 저장되게 되고, 변수의 값을 읽을 때 사전에 명시된 타입을 참고해도 올바른 타입을 얻을 수 없게 될 것이다.

#### 함수

함수를 사용한다는 것은 그 함수를 호출한다는 것이다.
함수 호출의 부품은 f(a)의 형태이다.
f 는 호출할 함수의 이름, a 는 함수에 넘길 인자의 값을 결정하는 부품이다.

변수와 마찬가지로 함수는 개발자가 정의하여 사용하기 때문에 함수를 정의할 때 함수의 타입을 제공해야 한다.

함수의 타입은 매개변수 타입(parameter type)과 결과 타입(return type)으로 구성된다.

1. 매개변수 타입이 올바른지 확인한다.

2. 결과 타입이 올바른지 확인한다.

함수를 정의할 때는 함수 정의 역시 하나의 부품으로서 검사의 대상이 된다.
- 함수의 Body 를 계산하는 도중 타입 오류가 일어나지 않음을 보장하기 위해
- 개발자가 제공한 결과 타입이 올바른지 확인하기 위해

반환값이 Void 인 함수는 어떠한 값도 리턴하지 않는다.
따라서 결과 타입이 Void 인 함수를 호출해 얻은 결과를 어딘가에 사용하려고 하면 타입 검사를 통과하지 못한다.